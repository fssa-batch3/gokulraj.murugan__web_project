<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../Assets/Css/profile.css">
</head>
<body>
    <div class="navigation">
        <div>
            <img src="../Assets/Images/Screenshot__74..png" width="90%" id="logo" alt="">
        </div>

        <ul>

            <li>
                <a href="./dashboard.html">
                    <span class="icon"><i class="fa-solid fa-house"></i></span>
                    <span class="title">Home</span>
                </a>
            </li>
            <li>
                <a href="./Exchange.html">
                    <span class="icon"><i class="fa-solid fa-arrows-rotate"></i></span>
                    <span class="title">Exchange</span>
                </a>
            </li>
            <li>
                <a href="./wallet.html">
                    <span class="icon"><i class="fa-solid fa-wallet"></i></span>
                    <span class="title">Wallet</span>
                </a>
            </li>
            <li>
                <a href="./cryptos.html">
                    <span class="icon"><i class="fa-solid fa-square-poll-vertical"></i></span>
                    <span class="title">Chart</span>
                </a>
            </li>
            <li>
                <a href="./profile.html">
                    <span class="icon"><i class="fa-solid fa-user"></i></span>
                    <span class="title">Profile</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon"><i class="fa-solid fa-gear"></i></span>
                    <span class="title">Settings</span>
                </a>
            </li>
        </ul>
    </div>


    <div class="box">
        <div class="box1">
            <div class="profile_pic">
                <img src="../Assets/Images/profile.png" alt="">
            </div>
            <div class="profile_details">
                <h2>My profile</h2>
                <label for="name">UserName :</label>
                <input type="text" name="name" id="name" disabled><br>

                <label for="email">Email :</label>
                <input type="email" name="email" id="email" disabled><br>

                <label for="phone_no">Phone Number :</label>
                <input type="number" name="phone_no" id="" disabled><br>


                <button id="btn1">Edit</button>
                <button id="save">Save</button>
                <button id="delete">Log out</button>
            </div>

        </div>

        <div  class="right_box">
            
            <div class="box2">


            </div>
            <div class="box3">
                <div class="heading">
                    <h5>PassWords</h5>
                    <button class="buttons">Change</button>
                </div>
                <hr class="line">
            </div>
            <div class="box2"></div>
            <div class="box2"></div>
            <div class="box2"></div>


        </div>

        


    </div>
    <!-- <div class="all">
        <div class="head">

        </div>
        <div class="h2">
            <h2>Account details</h2>
        </div>
        <form action="">

            <label for="name">Username :</label>
            <input type="text" name="name" id="name"><br>

            
            
            <label for="email">Email :</label>
            <input type="email" name="email" id="email"><br>
            
            <label for="phone_no">Phone Number :</label>
            <input type="number" name="phone_no" id="phone_no"><br>
            
                <label for="password">Password :</label>
                <input type="password" name="password" id="password"> <br>           
    </div> -->


    
    <script src="https://kit.fontawesome.com/ee40c53027.js" crossorigin="anonymous" integrity="">
    </script>
    // <script>
    //     let storage =  JSON.parse(localStorage.getItem("array"))
        

    //     let name = document.getElementById("name")
    //     let email = document.getElementById("email")

    //     for (let i = 0; i < array.length; i++) {
    //         email.value = array[i]["email"]
    //         name.value = profile[i]["first_name"]
            
    //     }
        
    // </script>



<script>

    let arr = JSON.parse(localStorage.getItem("Userdata")) // getting data from localStorage
    const profile = JSON.parse(localStorage.getItem("login"))

    let check;
    let res;

    //assigning variables
    let email = document.getElementById("email");
    let name = document.getElementById("name"); 
    

    let user_details = JSON.parse(localStorage.getItem("Userdata"));
    // showing datas in Profile Page
      user_details.find(e =>{
        if(e["email"] == profile["email"]){
        res = e;
        }
    })
    
    name.value = res["Username"];
    email.value = res["email"];
    
           






//           Update profile  
    let edit = document.getElementById("btn1")
    edit.addEventListener("click",e => {
      name.removeAttribute("disabled")
})



    let save = document.getElementById("save")
    save.addEventListener("click",e => {   
    e.preventDefault()
    res["Username"] = name.value;
    res["email"] = email.value;

  alert("Profile Updated")

  localStorage.setItem("Userdata",JSON.stringify(user_details))
 })
//            Udpate profile completed

    


//         Delete Profile
    let logout = document.getElementById("delete")
    logout.addEventListener("click",e =>{
        e.preventDefault()

        localStorage.removeItem("login")
        window.location.href = "./profile.html"
    })




</script>

</body>
</html>